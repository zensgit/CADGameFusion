# PR #100 åˆå¹¶æŠ¥å‘Š

**æ—¥æœŸ**: 2025-09-23
**PRæ ‡é¢˜**: ci(observability): per-workflow thresholds, auto-recovery, weekly archive, evidence, docs
**åˆ†æ”¯**: ci/observability-tuning-v0.3.1 â†’ main
**çŠ¶æ€**: ğŸ”„ è‡ªåŠ¨åˆå¹¶å·²å¯ç”¨ï¼ˆç­‰å¾…CIå®Œæˆï¼‰

## ğŸ“‹ æ‰§è¡Œæ€»ç»“

### å†²çªè§£å†³
| æ–‡ä»¶ | å†²çªç±»å‹ | è§£å†³æ–¹æ¡ˆ |
|------|----------|----------|
| `.github/workflows/daily-ci-status.yml` | åŠŸèƒ½åˆå¹¶ | ä¿ç•™PR #100çš„å¢å¼ºåŠŸèƒ½ï¼ˆé˜ˆå€¼ã€æ¢å¤ã€å‘Šè­¦ï¼‰ |
| `.github/workflows/core-strict-build-tests.yml` | å†…å®¹åˆå¹¶ | ç»“åˆvcpkgè¯æ®æ”¶é›†å’Œç¤ºä¾‹smokeæµ‹è¯• |
| `README.md` | æ–‡æ¡£åˆå¹¶ | æ•´åˆCI Quick Opså’ŒObservabilityç« èŠ‚ |

### CIæ£€æŸ¥çŠ¶æ€
| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è€—æ—¶ |
|--------|------|------|
| Auto Label Qt-related Changes | âœ… Pass | 5s |
| Build Core (macos-latest) | âœ… Pass | 53s |
| Build Core (ubuntu-latest) | âœ… Pass | 2m50s |
| Build Core (windows-latest) | â³ Pending | - |
| build (macos-latest) | âœ… Pass | 1m10s |
| build (ubuntu-latest) | âœ… Pass | 2m24s |
| build (windows-latest) | âœ… Pass | 2m42s |
| exports-validate-compare | âœ… Pass | 2m18s |
| Simple Validation Test | â³ Pending | - |
| quick-check | âœ… Pass | 25s |
| label | âœ… Pass | 2s |

**é€šè¿‡ç‡**: 10/11 (90.9%)

## ğŸš€ æ–°å¢åŠŸèƒ½

### 1. Per-Workflowé˜ˆå€¼é…ç½®
```json
{
  "thresholds": {
    "default": {
      "sr_th": 85,
      "p95_th": 6
    },
    "per_workflow": {
      "Core Strict - Exports, Validation, Comparison": {
        "sr_th": 90,
        "p95_th": 5
      },
      "Quick Check - Verification + Lint": {
        "sr_th": 95,
        "p95_th": 2
      }
    }
  }
}
```

### 2. è‡ªåŠ¨æ¢å¤æœºåˆ¶
- å½“å·¥ä½œæµè¿ç»­Nå¤©ï¼ˆé»˜è®¤3å¤©ï¼‰è¾¾åˆ°é˜ˆå€¼æ ‡å‡†
- è‡ªåŠ¨å…³é—­ç›¸å…³å‘Šè­¦Issue
- æ·»åŠ æ¢å¤è¯„è®ºè¯´æ˜

### 3. Weekly CI Trend Digest
- æ–°å¢å·¥ä½œæµï¼š`.github/workflows/weekly-ci-trend.yml`
- å®šæ—¶ä»»åŠ¡ï¼šæ¯å‘¨æ—¥UTC 3:00ï¼ˆåŒ—äº¬æ—¶é—´11:00ï¼‰
- æ”¯æŒå½’æ¡£åˆ°`docs/ci/weekly/YYYY-WW.md`
- æ‰‹åŠ¨è§¦å‘æ—¶å¯é€‰`archive_pr=true`åˆ›å»ºå½’æ¡£PR

### 4. vcpkgè¯æ®æ”¶é›†
```yaml
- name: List vcpkg archives (evidence)
  if: always()
  shell: bash
  run: |
    # æ”¶é›†vcpkgç¼“å­˜ç›®å½•ä¿¡æ¯
    # è¾“å‡ºæ‘˜è¦å’Œæ–‡ä»¶åˆ—è¡¨
    # ä¸Šä¼ ä¸ºartifactç”¨äºè°ƒè¯•
```

### 5. å¢å¼ºæ–‡æ¡£
- **CI Quick Opsç« èŠ‚**: å¿«é€Ÿæ“ä½œå‘½ä»¤å’Œgh CLIä½¿ç”¨
- **CI Observability Notes**: N/Aè¯­ä¹‰è¯´æ˜ã€å‘Šè­¦ç³»ç»Ÿã€å‘¨æŠ¥å½’æ¡£
- **é…ç½®ç¤ºä¾‹**: `.github/ci/config.json`æ¨¡æ¿

## ğŸ“Š å½±å“åˆ†æ

### æ­£é¢å½±å“
1. **é™ä½å™ªéŸ³**: Per-workflowé˜ˆå€¼å‡å°‘è¯¯æŠ¥
2. **è‡ªåŠ¨åŒ–ç®¡ç†**: å‘Šè­¦è‡ªåŠ¨æ¢å¤èŠ‚çœäººå·¥
3. **å†å²è¿½è¸ª**: å‘¨æŠ¥å½’æ¡£ä¾¿äºé•¿æœŸåˆ†æ
4. **è°ƒè¯•èƒ½åŠ›**: vcpkgè¯æ®å¸®åŠ©é—®é¢˜å®šä½

### é£é™©è¯„ä¼°
- **ä½é£é™©**: æ‰€æœ‰æ›´æ”¹å‘åå…¼å®¹
- **å¯å›æ»š**: é…ç½®æ–‡ä»¶é©±åŠ¨ï¼Œæ˜“äºè°ƒæ•´
- **æ— ç ´åæ€§**: ä¸å½±å“ç°æœ‰CIæµç¨‹

## ğŸ”§ é…ç½®æ–‡ä»¶

### æ–°å¢æ–‡ä»¶
1. `.github/ci/config.json` - CIé…ç½®ä¸­å¿ƒ
2. `.github/workflows/weekly-ci-trend.yml` - å‘¨æŠ¥å·¥ä½œæµ
3. `scripts/ci_weekly_digest.sh` - å‘¨æŠ¥ç”Ÿæˆè„šæœ¬
4. `docs/ci/weekly/.gitkeep` - å‘¨æŠ¥å½’æ¡£ç›®å½•

### ä¿®æ”¹æ–‡ä»¶
- `.github/workflows/daily-ci-status.yml` - å¢å¼ºå‘Šè­¦å’Œæ¢å¤
- `.github/workflows/core-strict-build-tests.yml` - æ·»åŠ è¯æ®æ”¶é›†
- `README.md` - æ–‡æ¡£æ›´æ–°

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### CIæ‰§è¡Œæ—¶é—´
- æœ€å¿«ï¼šlabel (2s)
- æœ€æ…¢ï¼šBuild Core Ubuntu (2m50s)
- å¹³å‡ï¼šçº¦1m30s

### æˆåŠŸç‡ï¼ˆ7å¤©ï¼‰
- Core Strict - Build and Tests: 69%
- Core Strict - Exports: 65%
- Quick Check: 96%

## ğŸ¯ åç»­è¡ŒåŠ¨

### ç«‹å³ï¼ˆåˆå¹¶åï¼‰
1. [x] å¯ç”¨è‡ªåŠ¨åˆå¹¶
2. [ ] ç­‰å¾…CIå®Œæˆ
3. [ ] éªŒè¯åˆå¹¶æˆåŠŸ
4. [ ] è§¦å‘Daily CIéªŒè¯æ–°åŠŸèƒ½

### æœ¬å‘¨
1. [ ] ç›‘æ§å‘Šè­¦Issueåˆ›å»º
2. [ ] éªŒè¯è‡ªåŠ¨æ¢å¤æœºåˆ¶
3. [ ] é¦–æ¬¡å‘¨æŠ¥ç”Ÿæˆï¼ˆå‘¨æ—¥ï¼‰

### ä¸¤å‘¨è¯„ä¼°ï¼ˆ2025-10-07ï¼‰
1. [ ] è¯„ä¼°é˜ˆå€¼åˆç†æ€§
2. [ ] åˆ†æå‘Šè­¦é¢‘ç‡
3. [ ] ä¼˜åŒ–é…ç½®å‚æ•°

## ğŸ’¡ å…³é”®æ´å¯Ÿ

### æˆåŠŸè¦ç´ 
1. **é…ç½®é©±åŠ¨**: é€šè¿‡JSONæ–‡ä»¶çµæ´»è°ƒæ•´ï¼Œæ— éœ€ä¿®æ”¹ä»£ç 
2. **å¢é‡æ”¹è¿›**: æ‰€æœ‰åŠŸèƒ½å¯é€‰å¯ç”¨ï¼Œä¸å½±å“åŸºçº¿
3. **å……åˆ†æµ‹è¯•**: CIå…¨é¢è¦†ç›–ï¼Œ10/11æ£€æŸ¥é€šè¿‡

### ç»éªŒæ•™è®­
1. åˆå¹¶å†²çªéœ€è¦ä»”ç»†å¤„ç†ï¼Œä¿ç•™åŒæ–¹æœ‰ä»·å€¼çš„æ›´æ”¹
2. è‡ªåŠ¨åˆå¹¶åŠŸèƒ½å‡å°‘ç­‰å¾…æ—¶é—´ï¼Œæé«˜æ•ˆç‡
3. è¯æ®æ”¶é›†å¯¹é—®é¢˜è¯Šæ–­è‡³å…³é‡è¦

## âœ… æ€»ç»“

PR #100æˆåŠŸè®¾ç½®è‡ªåŠ¨åˆå¹¶ï¼Œå¼•å…¥äº†å…³é”®çš„CIå¯è§‚æµ‹æ€§å¢å¼ºåŠŸèƒ½ï¼š

- **æ™ºèƒ½å‘Šè­¦**: Per-workflowé˜ˆå€¼å’Œè‡ªåŠ¨æ¢å¤
- **å†å²è¿½è¸ª**: å‘¨æŠ¥å½’æ¡£ç³»ç»Ÿ
- **è°ƒè¯•å¢å¼º**: vcpkgè¯æ®æ”¶é›†
- **æ–‡æ¡£å®Œå–„**: æ“ä½œæŒ‡å—å’Œé…ç½®è¯´æ˜

é¢„è®¡åˆå¹¶æ—¶é—´ï¼šCIå®Œæˆåè‡ªåŠ¨åˆå¹¶ï¼ˆçº¦5-10åˆ†é’Ÿï¼‰

---

**ç”Ÿæˆæ—¶é—´**: 2025-09-23T15:15:00 UTC+8
**PRé“¾æ¥**: https://github.com/zensgit/CADGameFusion/pull/100
**è‡ªåŠ¨åˆå¹¶è®¾ç½®**: 2025-09-23T07:12:28Z